#!/bin/bash
# Step-by-step guide to add Python to Screen Recording permissions

clear

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  ğŸ”“ Adding Python to Screen Recording Permissions               â•‘"
echo "â•‘                                                                  â•‘"
echo "â•‘  Follow along - I'll open everything for you!                   â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
sleep 2

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“‚ STEP 1: Opening System Preferences..."
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# Open System Preferences to Screen Recording
echo "   Opening: Security & Privacy â†’ Screen Recording"
echo ""

# Try the direct URL approach
open "x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture"

sleep 3

echo "   âœ… System Preferences should now be open"
echo ""
sleep 1

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ”“ STEP 2: Unlock Settings (if locked)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   ğŸ‘€ Look at the bottom-left corner of the window"
echo ""
echo "   Do you see a ğŸ”’ LOCK icon?"
echo ""
echo "   If YES:"
echo "      1. Click the ğŸ”’ lock icon"
echo "      2. Enter your Mac password"
echo "      3. The lock will change to ğŸ”“ (unlocked)"
echo ""
echo "   If the lock is already ğŸ”“ (unlocked), skip this step!"
echo ""

read -p "   Press ENTER when the settings are unlocked (ğŸ”“)..."
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "â• STEP 3: Add Python to the list"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   ğŸ‘€ Look at the list of apps on the right side"
echo ""
echo "   You should see:"
echo "      â˜‘ï¸  Terminal  (already checked)"
echo ""
echo "   Now we need to add Python:"
echo ""
echo "   1. Look BELOW the app list"
echo "   2. Find the â• (plus) button"
echo "   3. Click the â• button"
echo ""
echo "   A file browser window will open"
echo ""

read -p "   Press ENTER after clicking the â• button..."
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ” STEP 4: Navigate to Python"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   The file browser is now open. Follow these steps:"
echo ""
echo "   1. Press: Cmd + Shift + G  (all at the same time)"
echo "      This opens 'Go to folder'"
echo ""
echo "   2. A text box will appear at the top"
echo ""
echo "   3. Type exactly:  /usr/bin"
echo ""
echo "   4. Press ENTER"
echo ""

read -p "   Press ENTER after typing /usr/bin and pressing ENTER..."
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“ STEP 5: Find and select python3"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   You should now see a HUGE list of files in /usr/bin"
echo ""
echo "   Method 1: Search for python3"
echo "      1. Click in the file list"
echo "      2. Type: python3"
echo "      3. It should jump to files starting with 'python'"
echo ""
echo "   Method 2: Scroll manually"
echo "      1. Scroll down in the list"
echo "      2. Look for 'python3' (it's alphabetical)"
echo ""
echo "   When you find 'python3':"
echo "      1. Click on it ONCE (it will highlight)"
echo "      2. Click the 'Open' button (bottom-right)"
echo ""

read -p "   Press ENTER after selecting python3 and clicking Open..."
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ… STEP 6: Verify python3 was added"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   You should now see in the app list:"
echo ""
echo "      â˜‘ï¸  Terminal"
echo "      â˜‘ï¸  python3"
echo ""
echo "   MAKE SURE BOTH BOXES ARE CHECKED!"
echo ""
echo "   If python3's box is NOT checked:"
echo "      Click on the checkbox next to python3"
echo ""

read -p "   Press ENTER when BOTH boxes are checked..."
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ”’ STEP 7: Lock settings and close"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   1. Click the ğŸ”“ lock icon (bottom-left) to lock it again"
echo "   2. Close System Preferences window (click the red âŒ)"
echo ""

read -p "   Press ENTER after closing System Preferences..."
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ”„ STEP 8: RESTART Terminal (CRITICAL!)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   âš ï¸  This is the MOST IMPORTANT step!"
echo ""
echo "   You MUST quit Terminal completely:"
echo ""
echo "   Method 1: Keyboard shortcut (recommended)"
echo "      Press: Cmd + Q"
echo ""
echo "   Method 2: Menu"
echo "      Click: Terminal menu â†’ Quit Terminal"
echo ""
echo "   âŒ DON'T just close the window!"
echo "   âœ… You must QUIT the entire app!"
echo ""
echo "   After quitting:"
echo "      1. Wait 3 seconds"
echo "      2. Open Terminal again (from Applications â†’ Utilities)"
echo "      3. cd /Users/djrussell23/Documents/repos/JARVIS-AI-Agent"
echo "      4. python3 check_screen_recording_permission.py"
echo ""

read -p "   Press ENTER, then quit Terminal (Cmd+Q)..."
echo ""

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  âœ… Setup Complete!                                              â•‘"
echo "â•‘                                                                  â•‘"
echo "â•‘  Now:                                                            â•‘"
echo "â•‘    1. Quit Terminal (Cmd+Q)                                      â•‘"
echo "â•‘    2. Reopen Terminal                                            â•‘"
echo "â•‘    3. cd to JARVIS-AI-Agent folder                               â•‘"
echo "â•‘    4. Run: python3 check_screen_recording_permission.py          â•‘"
echo "â•‘                                                                  â•‘"
echo "â•‘  You should see: âœ… Screen Recording permission is GRANTED       â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
